/**
 * Document Archive Advisor skill ‚Äî Document management, organization, compliance.
 * Owner: COO agent.
 */
import type { LLMClient } from './callTranscription.js';
export interface DocumentArchiveAdvice { organization: { structure: string[]; naming: string[]; categories: string[] }; digitization: { tools: string[]; workflow: string[]; ocrTips: string[] }; compliance: { retention: string[]; backup: string[]; access: string[] }; automation: { workflows: string[]; templates: string[]; integrations: string[] }; actionSteps: string[]; }
export interface DocumentArchiveOptions { businessType: string; documentVolume?: string; currentSystem?: string; country?: string; language?: string; }
const SYSTEM = 'You are a document management and archiving specialist for LatAm SMBs. Organization, digitization, compliance, automation. Default language: Spanish.';
const FORMAT = 'Respond with JSON: { "organization": { "structure": [string], "naming": [string], "categories": [string] }, "digitization": { "tools": [string], "workflow": [string], "ocrTips": [string] }, "compliance": { "retention": [string], "backup": [string], "access": [string] }, "automation": { "workflows": [string], "templates": [string], "integrations": [string] }, "actionSteps": [string] }';
export async function adviseDocumentArchive(options: DocumentArchiveOptions, llmClient?: LLMClient): Promise<DocumentArchiveAdvice> {
  if (llmClient) { const prompt = `Document archive strategy for: ${options.businessType}\nVolume: ${options.documentVolume ?? 'medium'}\nCountry: ${options.country ?? 'LatAm'}\n${FORMAT}`; const response = await llmClient.complete({ prompt, system: SYSTEM, tier: 'haiku' }); try { return JSON.parse(response.text) as DocumentArchiveAdvice; } catch { /* fall through */ } }
  return { organization: { structure: ['üìÅ Legal (contratos, permisos, actas)', 'üìÅ Finanzas (facturas, recibos, estados)', 'üìÅ RRHH (contratos, n√≥mina, expedientes)', 'üìÅ Clientes (propuestas, contratos, facturas)', 'üìÅ Operaciones (SOPs, manuales, reportes)'], naming: ['YYYY-MM-DD_Tipo_Descripcion.ext', 'Ejemplo: 2024-01-15_Factura_ClienteX.pdf', 'Usar guiones bajos, no espacios', 'Incluir versi√≥n si aplica (v1, v2)'], categories: ['Documentos legales', 'Documentos financieros', 'Documentos de RRHH', 'Documentos de clientes', 'Documentos operativos'] }, digitization: { tools: ['Google Drive / OneDrive (almacenamiento)', 'Adobe Scan / CamScanner (escaneo m√≥vil)', 'Kitz DocScan (OCR integrado)', 'Notion / Coda (base de datos de docs)'], workflow: ['Recibir documento f√≠sico ‚Üí escanear mismo d√≠a', 'OCR ‚Üí extraer datos clave ‚Üí archivar', 'Vincular a cliente/proyecto en CRM', 'Destruir original si no es requerido legalmente'], ocrTips: ['Escanear a 300 DPI m√≠nimo', 'Fondo claro, buena iluminaci√≥n', 'Verificar texto extra√≠do por OCR', 'Guardar original + versi√≥n OCR'] }, compliance: { retention: ['Facturas: 5-10 a√±os seg√∫n pa√≠s', 'Contratos laborales: durante relaci√≥n + 5 a√±os', 'Documentos fiscales: 5 a√±os m√≠nimo', 'Actas constitutivas: permanente'], backup: ['Backup autom√°tico diario (cloud)', '1 copia local + 1 copia en la nube', 'Verificar integridad mensualmente', 'Plan de recuperaci√≥n documentado'], access: ['Control de acceso por rol', 'Auditar qui√©n accede a qu√©', 'Documentos sensibles: solo gerencia', 'Compartir con link temporal (no permanente)'] }, automation: { workflows: ['Auto-clasificar facturas recibidas por email', 'Alerta de vencimiento de contratos (30 d√≠as)', 'Auto-generar carpeta por nuevo cliente', 'Recordatorio de backup semanal'], templates: ['Plantilla de contrato de servicios', 'Plantilla de factura', 'Plantilla de NDA', 'Plantilla de propuesta comercial'], integrations: ['Email ‚Üí auto-archive adjuntos', 'CRM ‚Üí vincular docs a contactos', 'Contabilidad ‚Üí facturas autom√°ticas', 'WhatsApp ‚Üí recibir y archivar docs'] }, actionSteps: ['Crear estructura de carpetas est√°ndar', 'Escanear y archivar los 20 documentos m√°s importantes', 'Configurar backup autom√°tico', 'Definir pol√≠tica de retenci√≥n por tipo de documento'] };
}
